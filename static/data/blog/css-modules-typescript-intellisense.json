{"cover_image":"../media/blog-social-intro.png","title":"Get the most out of CSS Modules with TypeScript in 5 minutes","date":"2021-05-13T18:30:00.000Z","description":"If you're a TypeScript Dev, here are a few things you can do to get that sweet, sweet CSS class intellisense","body":"<p>Are you a TypeScript user, who's using CSS modules and ever ran into this little problem where you type <code>styles.</code> and expect the list of classes to show up in your VSCode intellisense, but it doesn't?</p>\n<p>After going through this article, you'll have this super sweet intellisense like shown below <img class=\"emoji\" draggable=\"false\" alt=\"👇\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"Demo of CSS Modules autocompletion\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <div class=\"gif-vid-container\">\n    <video autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\">\n      <source src=\"../media/css-modules-typescript-intellisense--intellisense-demo/vidgif.mp4\" type=\"video/mp4\">\n      Your browser doesn't support HTML5 video playback. <a href=\"../media/css-modules-typescript-intellisense--intellisense-demo.gif\" target=\"_blank\" rel=\"noopener\">See the gif here</a>\n    </video>\n  </div>\n  </div><p></p>\n<p>And the fun part is, you won't need to install any VSCode extensions for this.</p>\n<h1 id=\"Prerequisites\"><a class=\"heading-link\" href=\"#Prerequisites\">#</a>Prerequisites</h1>\n<ol>\n<li>\n<p><strong>VSCode</strong> - VSCode has TypeScript built in, which is what's gonna make this feature work. Not sure about Vim or Sublime though, if they'll support this <img class=\"emoji\" draggable=\"false\" alt=\"😅\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f605.svg\"></p>\n</li>\n<li>\n<p><strong>Locally installed TypeScript</strong> - There must be TypeScript locally installed and present in your <code>package.json</code> (Preferably the latest version <img class=\"emoji\" draggable=\"false\" alt=\"😁\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f601.svg\">)</p>\n</li>\n<li>\n<p><strong>Grit and Debugging skills <img class=\"emoji\" draggable=\"false\" alt=\"😉\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f609.svg\"></strong> - Well, it is a prerequisite for writing every single line of code as a dev, donchya agree?</p>\n</li>\n</ol>\n<h1 id=\"The-Best-Way\"><a class=\"heading-link\" href=\"#The-Best-Way\">#</a>The Best Way</h1>\n<p>This is the best and most optimal method here. It is really fast, feels native, as if TypeScript itself knows about your CSS Modules, and doesn't clutter your workspace with <code>d.ts</code> files. It just works!!</p>\n<p>And the best part: Because it's just an npm package, and because the tsconfig is there, anyone else(team member/collaborator) will have the same experience as you out of the box, without any config. No need for them to download any extension, just the plain old <code>npm install</code> will do it for them.</p>\n<p>Magic!!!</p>\n<p><img src=\"\" alt=\"Magic\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <div class=\"gif-vid-container\">\n    <video autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\">\n      <source src=\"../media/css-modules-typescript-intellisense--magic/vidgif.mp4\" type=\"video/mp4\">\n      Your browser doesn't support HTML5 video playback. <a href=\"../media/css-modules-typescript-intellisense--magic.gif\" target=\"_blank\" rel=\"noopener\">See the gif here</a>\n    </video>\n  </div>\n  </div><p></p>\n<p>Here's how to set it up <img class=\"emoji\" draggable=\"false\" alt=\"👇\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<h2 id=\"npm-install-typescript-plugin-css-modules\"><a class=\"heading-link\" href=\"#npm-install-typescript-plugin-css-modules\">#</a><mark>npm install typescript-plugin-css-modules</mark></h2>\n<p>Install this little npm package, preferably as a <code>devDependency</code> (-D).</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">npm i --save-dev typescript-plugin-css-modules</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95; font-style: italic\"># Or if you're a yarn person</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">yarn add --save-dev typescript-plugin-css-modules</span></span>\n<span class=\"line\"></span></code></pre>\n<blockquote>\n<p>And yeah, in case you were wondering, TypeScript does have its own plugin architecture. Heck, I myself found it only a month back, <a href=\"https://puruvj.dev/blog/move-to-css-modules-from-styled-components\" target=\"_blank\" rel=\"noopener\">when I moved a project of mine to CSS Modules from Styled Components</a> <img class=\"emoji\" draggable=\"false\" alt=\"😅\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f605.svg\">.</p>\n</blockquote>\n<h2 id=\"Add-to-tsconfig.json\"><a class=\"heading-link\" href=\"#Add-to-tsconfig.json\">#</a>Add to tsconfig.json</h2>\n<p>Open up your <code>tsconfig.json</code>, and add to the <code>compilerOptions</code> property this one liner:</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">plugins</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #89DDFF\">[{</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C792EA\">name</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">typescript-plugin-css-modules</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">}]</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"Set-VSCode-TypeScript-version\"><a class=\"heading-link\" href=\"#Set-VSCode-TypeScript-version\">#</a>Set VSCode TypeScript version</h2>\n<p>This one is superrrrrr important. The TypeScript version your VSCode uses should be the local version(The one installed in your project locally), otherwise this whole song and dance of installing plugins and setting config will be worthless.</p>\n<p>Open a <code>.ts</code> or <code>.tsx</code> file in VSCode, On bottom left you'll see this little option <img class=\"emoji\" draggable=\"false\" alt=\"👇\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"TypeScript version number in VSCode\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;--padding-top: 14.499999999999998%;\">\n    <picture>\n      <source type=\"image/png\" media=\"(min-width: 501px)\" data-srcset=\"../media/css-modules-typescript-intellisense--typescript-version-photo-1/large.png\">\n      <source type=\"image/png\" media=\"(max-width: 500px)\" data-srcset=\"../media/css-modules-typescript-intellisense--typescript-version-photo-1/small.png\">\n      <img alt=\"TypeScript version number in VSCode\" data-src=\"../media/css-modules-typescript-intellisense--typescript-version-photo-1/large.png\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<p>This is your TypeScript version. Click on it, and a list popup will open on the very top <img class=\"emoji\" draggable=\"false\" alt=\"👇\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"The list popup\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;--padding-top: 27.916666666666668%;\">\n    <picture>\n      <source type=\"image/png\" media=\"(min-width: 501px)\" data-srcset=\"../media/css-modules-typescript-intellisense--typescript-version-photo-2/large.png\">\n      <source type=\"image/png\" media=\"(max-width: 500px)\" data-srcset=\"../media/css-modules-typescript-intellisense--typescript-version-photo-2/small.png\">\n      <img alt=\"The list popup\" data-src=\"../media/css-modules-typescript-intellisense--typescript-version-photo-2/large.png\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<p>Click on <mark>Select TypeScript Version</mark>. That will show these options <img class=\"emoji\" draggable=\"false\" alt=\"👇\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"Version choosing list\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;--padding-top: 21.666666666666668%;\">\n    <picture>\n      <source type=\"image/png\" media=\"(min-width: 501px)\" data-srcset=\"../media/css-modules-typescript-intellisense--typescript-version-photo-3/large.png\">\n      <source type=\"image/png\" media=\"(max-width: 500px)\" data-srcset=\"../media/css-modules-typescript-intellisense--typescript-version-photo-3/small.png\">\n      <img alt=\"Version choosing list\" data-src=\"../media/css-modules-typescript-intellisense--typescript-version-photo-3/large.png\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<p>As you can see, I have <mark>Use VS Code's Version</mark> selected(Look at the white dot before). Click on <mark>Use Workspace Version</mark>, and you are all set.</p>\n<p>And here's your setup. In less than 5 minutes. Super simple, right?</p>\n<p>Enjoy the amazing DX <img class=\"emoji\" draggable=\"false\" alt=\"😀\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f600.svg\">.</p>\n<blockquote>\n<p>Oh, and in case you were wondering, it works perfectly with Sass too <img class=\"emoji\" draggable=\"false\" alt=\"😉\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f609.svg\"></p>\n</blockquote>\n<h1 id=\"Honorable-Mentions\"><a class=\"heading-link\" href=\"#Honorable-Mentions\">#</a>Honorable Mentions</h1>\n<p>Here are some more methods that are... OK, I guess <img class=\"emoji\" draggable=\"false\" alt=\"😅\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f605.svg\">. I used these, and they weren't as good as the technique above.</p>\n<h2 id=\"VSCode-extension\"><a class=\"heading-link\" href=\"#VSCode-extension\">#</a>VSCode extension</h2>\n<p>So, there are a few VSCode extensions out there that provide similar level of intellisense. Notice I used the word <strong>similar</strong>, not same, because</p>\n<ol>\n<li>\n<p>They were a little slower - They slowed down VSCode a little bit. On my fast laptop, it negligible, but on my other older laptop, it was noticeably slow.</p>\n</li>\n<li>\n<p>Choppy Intellisense - The intellisense wasn't always accurate, and sometimes had some noise in it like units(<code>9px</code>, <code>3rem</code>) when you typed <code>styles.</code>, which was definitely a bit weird.</p>\n</li>\n<li>\n<p>I dislike extensions - I am an extreme minimalist. My hunger to reduce things and have only the things <strong>necessary</strong> is super big. I only have 7 VSCode extensions, and only 2-3 are enabled for each workspace at a time. I worked on a super old and slow computer for 4 years, so it's habit to keep these 3rd party things as low as possible(even though I'm on a super fast one now <img class=\"emoji\" draggable=\"false\" alt=\"😅\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f605.svg\">)</p>\n</li>\n</ol>\n<p>But still, this extension is good enough if you can't get <mark>The Best Method</mark> above working.</p>\n<p>Oh, and as for the <strong>extension</strong> itself, I won't drop a link. There are so many coming out and some are better, some aren't, and its in constant flux. It's recommended to just do a search. The keywords: <mark>CSS Modules</mark> should give good results.</p>\n<h2 id=\"typings-for-css-modules-loader\"><a class=\"heading-link\" href=\"#typings-for-css-modules-loader\">#</a><code>typings-for-css-modules-loader</code></h2>\n<p>This is a <mark>Webpack</mark>-only loader. This will do the trick too.</p>\n<p>As I have no experience in Webpack, I can't explain the usage. I recommend you to check out the documentation @ <a href=\"https://www.npmjs.com/package/typings-for-css-modules-loader\" target=\"_blank\" rel=\"noopener\">NPM</a></p>\n<h2 id=\"The-CLI\"><a class=\"heading-link\" href=\"#The-CLI\">#</a>The CLI</h2>\n<p>There's a CLI out there that will generate <code>d.ts</code> files for your CSS modules. Check it out here: <a href=\"https://github.com/Quramy/typed-css-modules\" target=\"_blank\" rel=\"noopener\">typed-css-modules</a>.</p>\n<p>It has a watch mode, so you won't have to run it again everytime you edit your CSS files. Thats handy.</p>\n<p>Though OFC, it only works on plain CSS files, not <code>SCSS</code> or <code>SASS</code> or <code>STYL</code>. Plus there's that hiccup of remembering to run this command in a parallel terminal, or using a script to turn it on automatically along with your Web server.</p>\n<h3 id=\"For-Sass\"><a class=\"heading-link\" href=\"#For-Sass\">#</a>For Sass</h3>\n<p>Its again a CLI and inspired from <code>typed-css-modules</code> CLI: <a href=\"https://github.com/skovy/typed-scss-modules\" target=\"_blank\" rel=\"noopener\">typed-scss-modules</a>. Its a really good tool.</p>\n<blockquote>\n<p>This approach is good, but the biggest drawback I see is the d.ts files generated. it sort off clutters your workspace and Git commits.</p>\n</blockquote>\n<h2 id=\"Manually\"><a class=\"heading-link\" href=\"#Manually\">#</a>Manually</h2>\n<p>The last method is manually adding in the typings yourselves.</p>\n<p>God forbid if you have to resort to this! <img class=\"emoji\" draggable=\"false\" alt=\"😱\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f631.svg\"><img class=\"emoji\" draggable=\"false\" alt=\"😱\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f631.svg\"></p>\n<p>It involves making a <code>d.ts</code> file next to your CSS modules file, and defining modules and putting in the class names yourselves. Its a really bad method. If you add a class to you CSS module, you have to add it to the <code>d.ts</code> too. If you change something, and the project is too big, you're basically screwed, cuz you won't remember to change it in the d.ts most probably.</p>\n<h1 id=\"Conclusion\"><a class=\"heading-link\" href=\"#Conclusion\">#</a>Conclusion</h1>\n<p>I hope you found this article to be helpful. Turning on intellisense for CSS modules has been a total gamechanger for me in terms of how my component and the CSS interact.</p>\n<p>Signing off!</p>\n","id":"css-modules-typescript-intellisense","reading_time":3.3875,"toc":[{"indent":0,"id":"Prerequisites","title":"Prerequisites","length":13},{"indent":0,"id":"The-Best-Way","title":"The Best Way","length":12},{"indent":1,"id":"npm-install-typescript-plugin-css-modules","title":"npm install typescript-plugin-css-modules","length":41},{"indent":1,"id":"Add-to-tsconfig.json","title":"Add to tsconfig.json","length":20},{"indent":1,"id":"Set-VSCode-TypeScript-version","title":"Set VSCode TypeScript version","length":29},{"indent":0,"id":"Honorable-Mentions","title":"Honorable Mentions","length":18},{"indent":1,"id":"VSCode-extension","title":"VSCode extension","length":16},{"indent":1,"id":"typings-for-css-modules-loader","title":"typings-for-css-modules-loader","length":30},{"indent":1,"id":"The-CLI","title":"The CLI","length":7},{"indent":2,"id":"For-Sass","title":"For Sass","length":8},{"indent":1,"id":"Manually","title":"Manually","length":8},{"indent":0,"id":"Conclusion","title":"Conclusion","length":10}],"seriesIndex":0}