{"cover_image":"../media/blog-social-intro.png","title":"The power of CSS Modules <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ’ª\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f4aa.svg\"/>","date":"2021-06-13T18:30:00.000Z","description":"CSS Modules are extremely powerful. Find out why in this article.","body":"<p>CSS Modules are one of the best ways of styling in React. We have libraries that people consider better than CSS Modules, but CSS Modules have stood the test of time and are still one of the most universal ways of styling React. They give you superpowers, and are simple enough that even beginners can grasp it.</p>\n<h1 id=\"Advantages\"><a class=\"heading-link\" href=\"#Advantages\">#</a>Advantages</h1>\n<ol>\n<li><strong>Scoped</strong> - CSS modules are scoped when you use them the right way.</li>\n<li><strong>Highly composable</strong> - You can compose different styles in a lot of ways</li>\n<li><strong>Tree shakable</strong> - Styles you don't use are removed, just like modern JS tooling.</li>\n<li><strong>Very easy to pick up</strong> - CSS Modules are very easy to understand and takes almost no effort to start using.</li>\n<li><strong>It's just CSS!!</strong> - CSS Modules are just CSS that you write with some specific rules in mind. You get the great tooling from your IDE, and IDEs are really good at plain ol' CSS.</li>\n<li><strong>PostCSS tooling just works</strong> - Because CSS Modules are just CSS, all of your PostCSS tooling will work flawlessly.</li>\n</ol>\n<h1 id=\"Prerequisites\"><a class=\"heading-link\" href=\"#Prerequisites\">#</a>Prerequisites</h1>\n<ul>\n<li>Basic knowledge of CSS.</li>\n<li>Have worked with React before.</li>\n<li>Hungry to learn <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜‹\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f60b.svg\">.</li>\n</ul>\n<p>So we have seen the advantages and why you should learn CSS Modules. Now let's actually look at the syntax</p>\n<h1 id=\"The-syntax\"><a class=\"heading-link\" href=\"#The-syntax\">#</a>The syntax</h1>\n<p>Let's build a little Card component.</p>\n<p>This will be our directory structure <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">|- Card.jsx\n|- Card.module.css\n</span></span></code></pre>\n<p>Notice we're naming our CSS file a <code>*.module.css</code>. This is a convention that is good to follow, and in a lot of build tools, is actually necessary, if you want the file to be processed as a CSS Module file.</p>\n<p>Now let's look at the CSS file.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #676E95\">/* Card.module.scss */</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">avatar</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">userInfo</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">userName</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">userStatus</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Your CSS naming sense might be going off looking at the <code>.userInfo</code> and <code>.userName</code>. Shouldn't they be named <code>.user-info</code> and <code>.user-name</code>? Isn't that the main naming convention? Short answer: Yes, we're going off a bit on the tradition and naming things like we name things in JS. Bear with me, the reason will be clear in a while.</p>\n<p>And how to use this CSS Module file in your react component?</p>\n<p>Look at this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">import</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">./Card.module.scss</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> Card </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">()</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">return</span><span style=\"color: #F07178\"> (</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">container</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">img</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">avatar</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">src</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">...</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">userInfo</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">userName</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #A6ACCD\">...</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">userStatus</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #A6ACCD\">...</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  )</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">};</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This looks good! This is how we generally style our components in React, just import the CSS file as a module and it's included in the bundle.</p>\n<p><strong>Wrong</strong> <img class=\"emoji\" draggable=\"false\" alt=\"âŒ\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/274c.svg\"><img class=\"emoji\" draggable=\"false\" alt=\"âŒ\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/274c.svg\"></p>\n<p>This not how we use CSS Modules. For the advantages of CSS Modules, we gotta change how we write out our<code>className</code>s.</p>\n<p>Here's how we'd use our CSS Module actually <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">import</span><span style=\"color: #A6ACCD\"> css </span><span style=\"color: #89DDFF\">from</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">./Card.module.scss</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> Card </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">()</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">return</span><span style=\"color: #F07178\"> (</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">container</span><span style=\"color: #89DDFF\">}&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">img</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">avatar</span><span style=\"color: #89DDFF\">} </span><span style=\"color: #C792EA\">src</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">...</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">userInfo</span><span style=\"color: #89DDFF\">}&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">userName</span><span style=\"color: #89DDFF\">}&gt;</span><span style=\"color: #A6ACCD\">...</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">userStatus</span><span style=\"color: #89DDFF\">}&gt;</span><span style=\"color: #A6ACCD\">...</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  )</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">};</span></span>\n<span class=\"line\"></span></code></pre>\n<p><img src=\"\" alt=\"Wait what!?!?\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <div class=\"gif-vid-container\">\n    <video autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\">\n      <source src=\"../media/css-modules--wait-what-kevin-hart/vidgif.mp4\" type=\"video/mp4\">\n      Your browser doesn't support HTML5 video playback. <a href=\"../media/css-modules--wait-what-kevin-hart.gif\" target=\"_blank\" rel=\"noopener\">See the gif here</a>\n    </video>\n  </div>\n  </div><p></p>\n<p>If you're just wondering what happened here, you're not alone. CSS Modules can feel weird coming from writing plain CSS and referencing the <code>class</code> and styles directly.</p>\n<p>So, a few observations here:</p>\n<ol>\n<li>\n<p>We're importing the CSS Module file as a module using a default import, naming it <code>css</code>. You can name it <code>styles</code> or <code>classes</code> or <code>confetti</code>. Totally up to you!</p>\n</li>\n<li>\n<p>Instead of regular static strings, we're using <code>css.*</code> values. Its as if the <code>classes</code> we defined in the CSS file are actually being exported as variables of an ES Module, kinda like this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n</li>\n</ol>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> container </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">...</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> avatar </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">...</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> userInfo </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">...</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> userName </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">...</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> userStatus </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">...</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This is the reason why we used <mark>Camel Casing</mark> while naming our CSS classes. Because if there was a <code>dash-</code> used in the name, using it would be very dirty <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">import</span><span style=\"color: #A6ACCD\"> css </span><span style=\"color: #89DDFF\">from</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">./Card.module.scss</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> Card </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">()</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">=&gt;</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">return</span><span style=\"color: #F07178\"> (</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">container</span><span style=\"color: #89DDFF\">}&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">img</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">avatar</span><span style=\"color: #89DDFF\">} </span><span style=\"color: #C792EA\">src</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">...</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css[</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">user-info</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #A6ACCD\">]</span><span style=\"color: #89DDFF\">}&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css[</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">user-name</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #A6ACCD\">]</span><span style=\"color: #89DDFF\">}&gt;</span><span style=\"color: #A6ACCD\">...</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">        </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #A6ACCD\">css[</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">userStatus</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #A6ACCD\">]</span><span style=\"color: #89DDFF\">}&gt;</span><span style=\"color: #A6ACCD\">...</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  )</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">};</span></span>\n<span class=\"line\"></span></code></pre>\n<p>See? Not as clean anymore.</p>\n<h2 id=\"Under-the-hood\"><a class=\"heading-link\" href=\"#Under-the-hood\">#</a>Under the hood</h2>\n<p>What goes on under the hood is very interesting. Let's have a look at what this file you're importing from becomes <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> container </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">_container_bslv0_1</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> avatar </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">_avatar_bslv0_8</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> userInfo </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">_userInfo_bslv0_14</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> userName </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">_userName_bslv0_21</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> userStatus </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">_userStatus_bslv0_40</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">export</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">default</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #F07178\">container</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> container</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #F07178\">avatar</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> avatar</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #F07178\">userInfo</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> userInfo</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #F07178\">userName</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> userName</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #F07178\">userStatus</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> userStatus</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">};</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you can see, literally variables named the same as our classes are being defined by our build tools, and these variables are being exported separately(using named exports), and as an object in a default export.</p>\n<p>As for the contents of these variables, you can see they contain the <code>classes</code> we defined, but these classes have some random strings around them. This is where the scoping happens.</p>\n<p>Your CSS file's classes are basically mangled, and converted into this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">_container_bslv0_1</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">_avatar_bslv0_8</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">_userInfo_bslv0_14</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">_userName_bslv0_21</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">_userStatus_bslv0_40</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>And their names are stored as variables in this JS module that you saw above. This is the complete mechanism of CSS Modules.</p>\n<p>Now that we're done with how CSS Modules work and the basic syntax, let's get into the nitty-gritty!</p>\n<h2 id=\"Using-with-Pre-processors-and-PostCSS\"><a class=\"heading-link\" href=\"#Using-with-Pre-processors-and-PostCSS\">#</a>Using with Pre-processors and PostCSS</h2>\n<p>CSS Modules work seamlessly with pre-processors like <strong>SASS</strong>, <strong>LESS</strong>, <strong>Stylus</strong>, etc, and also with PostCSS, so any PostCSS config you have will work just fine.</p>\n<h2 id=\"Gotchas\"><a class=\"heading-link\" href=\"#Gotchas\">#</a>Gotchas</h2>\n<p>With everything great, there are some limitations. Here are the things you gotta watch out for.</p>\n<h3 id=\"No-styling-the-IDs!!\"><a class=\"heading-link\" href=\"#No-styling-the-IDs!!\">#</a>No styling the IDs!!</h3>\n<p>CSS Modules scope only the classes. They don't scope you styling the IDs, or tag names directly, as in, trying this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">someStyleClass</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">img</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">display</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> none</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>will mangle the className, thus scoping it, but the style applied to <code>img</code> there won't be scoped, rather it would be global, and hence, all the <code>img</code>s in your app will have <code>display: none</code> applied to them, which if you ask me, is nothing short of a disaster <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜…\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f605.svg\"></p>\n<p>However, you can achieve this behavior by putting the img as a descendent of the root element in the component. In simple words, this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #FFCB6B\">img</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">display</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> none</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p><code>.container</code> class would mangled and scoped, so ultimately, your <code>img</code>'s styling will be applied only in this component, nowhere else!</p>\n<p>Same with styling <code>Id</code>s <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">#</span><span style=\"color: #F78C6C\">image</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">display</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> none</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<h1 id=\"The-delicious-parts\"><a class=\"heading-link\" href=\"#The-delicious-parts\">#</a>The delicious parts <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜‹\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f60b.svg\"></h1>\n<p>CSS Modules come with some very tasty stuff. They don't just offer scoping, but so much more. Here are some of them.</p>\n<h2 id=\":global\"><a class=\"heading-link\" href=\"#:global\">#</a>:global</h2>\n<p>Sometimes, you need to opt out of scoping for some specific styles. Let's take for example, applying special style when body has a specific class</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">header</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> green</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #FFCB6B\">body</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">dark</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">header</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> blue</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This works pretty well, you don't need any globalising here. But say, you're using SCSS, and your <code>.header</code> is nested in other selectors <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">someRandomDiv</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">header</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> green</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #FFCB6B\">body</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">dark</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">header</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> blue</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This won't work, as after SCSS compilation, the code would look something like this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">someRandomDiv</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #FFCB6B\">body</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">dark</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">header</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> blue</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you can clearly see, it expects <code>body</code> as a child now, but that simply isn't possible. What we need is body being the top most selector</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">body</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">dark</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">someRandomDiv</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">header</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> blue</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This is what we desire. How to do this?</p>\n<p>This is what exactly CSS Modules' <code>:global</code> selector is for. We want to make <code>body.dark</code> global, and so, we can simply re-write the SCSS code like this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">someRandomDiv</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">header</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> green</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">:</span><span style=\"color: #82AAFF\">global</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #A6ACCD\">body.dark</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #A6ACCD\"> .</span><span style=\"color: #B2CCD6\">header</span><span style=\"color: #A6ACCD\"> {</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">      color: blue</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Now This whole selector will be made global, and we'll get the desired output.</p>\n<h2 id=\"Composing-multiple-styles-together\"><a class=\"heading-link\" href=\"#Composing-multiple-styles-together\">#</a>Composing multiple styles together</h2>\n<p>In CSS Modules, you can basically create a single class, and then compose it within other classes. Here's what I mean <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">classA</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">background-color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> green</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> white</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">classB</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  composes</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> classA</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> blue</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you can see, <code>.classB</code> has a special property <code>composes</code>, and its value is <code>classA</code>. This is how <code>composes</code> works: You pass the class name you want incorporated into your style as the value for <code>composes</code>.</p>\n<p>And in fact, you're not limited to classes defined in the same file. The class to be composed can come from another CSS file <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">classB</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  composes</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> classA from </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">./classB.css</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> blue</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This syntax looks a little weird, but once you get used to it, there's no going back!</p>\n<p>Composition in CSS Modules allow you to build reusable styles, and whole Design Systems. You could build your own <a href=\"https://tailwindcss.com/\" target=\"_blank\" rel=\"noopener\">Tailwind</a> and <a href=\"https://windicss.org/\" target=\"_blank\" rel=\"noopener\">Windi</a>! Quite exciting, right!?!? <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜»\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f63b.svg\"><img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜»\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f63b.svg\"></p>\n<h2 id=\"Variables\"><a class=\"heading-link\" href=\"#Variables\">#</a>Variables</h2>\n<p>CSS Modules have their own variable system too!!</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">@value</span><span style=\"color: #A6ACCD\"> blue: #0c77f8</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">@value</span><span style=\"color: #A6ACCD\"> red: #ff0000</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">@value</span><span style=\"color: #A6ACCD\"> green: #aaf200</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">button</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> blue</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">display</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> inline-block</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you can see, there's some trickery going on here!! <code>red</code>, <code>green</code> and <code>blue</code> are colors already defined in browser, but I assume you'll agree with me, that they are horribly ugly!</p>\n<p>So here, we're simply redefining these colors for our own purposes. This is some wizardry that SCSS/LESS/CSS variables simply can't achieve, so CSS Modules variables have some serious edge here.</p>\n<p>And you can basically import these in other files</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #676E95\">/* import your colors... */</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">@value</span><span style=\"color: #A6ACCD\"> colors: \"./colors.css\"</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">@value</span><span style=\"color: #A6ACCD\"> blue, red, green from colors</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">button</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> blue</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #B2CCD6\">display</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> inline-block</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Super good!!</p>\n<p>OFC, these variables aren't live. As in, during compile time, these variables are stripped away and they are replaced with their actual values. So if you are planning on changing some global variables for theme switching purposes, you can't do that, you'll have to go the <a href=\"https://blog.logrocket.com/how-to-create-better-themes-with-css-variables-5a3744105c74/\" target=\"_blank\" rel=\"noopener\">CSS variables path</a> for that!</p>\n<h1 id=\"Playing-nice-with-TypeScript\"><a class=\"heading-link\" href=\"#Playing-nice-with-TypeScript\">#</a>Playing nice with TypeScript</h1>\n<p>CSS Modules are great, but only one little issue with them: <strong>VSCode Intellisense</strong>.</p>\n<p>First off, if you're using TypeScript, you simply can't do</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">import</span><span style=\"color: #A6ACCD\"> css </span><span style=\"color: #89DDFF\">from</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">./Card.module.css</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span></code></pre>\n<p>VSCode will yell at you looking at the <code>.css</code> at the end. So you'll need to put a fix here.</p>\n<blockquote>\n<p>Note: If you're using <code>create-react-app</code> or Vite's <code>react</code> scaffolds, you don't need the steps below, they already have the minimal configuration built-in to allow <code>.css</code>, <code>.scss</code>, <code>.less</code>, <code>.styl</code>, etc in <code>import</code> statements.</p>\n</blockquote>\n<p>Create a <code>types.d.ts</code> in your <code>src</code> folder(Or whatever your source folder is), and put in this config <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #C792EA\">declare</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">module</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">*.module.css</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #F07178\"> [</span><span style=\"color: #A6ACCD\">key</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\">]</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">};</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">export</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">default</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">declare</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">module</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">*.module.scss</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #F07178\"> [</span><span style=\"color: #A6ACCD\">key</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\">]</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">};</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">export</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">default</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">declare</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">module</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">*.module.sass</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #F07178\"> [</span><span style=\"color: #A6ACCD\">key</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\">]</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">};</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">export</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">default</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">declare</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">module</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">*.module.less</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #F07178\"> [</span><span style=\"color: #A6ACCD\">key</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\">]</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">};</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">export</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">default</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #C792EA\">declare</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #C792EA\">module</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">*.module.styl</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #C792EA\">const</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">{</span><span style=\"color: #F07178\"> [</span><span style=\"color: #A6ACCD\">key</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\">]</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #F07178\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">};</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">  </span><span style=\"color: #89DDFF\">export</span><span style=\"color: #F07178\"> </span><span style=\"color: #89DDFF\">default</span><span style=\"color: #F07178\"> </span><span style=\"color: #A6ACCD\">classes</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you can see, this will make VSCode interpret your CSS Modules as basically a key value pair. So you'll get no warnings when using <code>css.*</code> anywhere, as VSCode knows it returns a string.</p>\n<p>But it is not the best experience ever. For example, when you type <code>css.</code>, you don't get a list of classes you declared. You're basically typing blind(So to speak <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜‰\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f609.svg\">). One typo, and the program breaks, until you look at every single line closely and find the source of the issue.</p>\n<p>But there are tricks to get that sweet, sweet, list intellisense and strict name checking, just like this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"CSS Modules intellisense in VSCode\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <div class=\"gif-vid-container\">\n    <video autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\">\n      <source src=\"../media/css-modules--intellisense-demo/vidgif.mp4\" type=\"video/mp4\">\n      Your browser doesn't support HTML5 video playback. <a href=\"../media/css-modules--intellisense-demo.gif\" target=\"_blank\" rel=\"noopener\">See the gif here</a>\n    </video>\n  </div>\n  </div><p></p>\n<p>See that sweet sweet intellisense? And not only that, even if you do type the name manually, and make a typo, <strong>TypeScript will scream at you</strong> with its red squiggles. This is where strict type checking comes in. If you haven't defined a class, you simply can't use it! And while doing refactoring, deleting some of your CSS, your <code>.tsx</code> files will give errors if a class is missing and you have used it, so the editor itself will tell you what needs to be changed, rather than you squinting at every single line of code.</p>\n<blockquote>\n<p>And the best part: You don't need any VSCode extension for this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ¤©\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f929.svg\"></p>\n</blockquote>\n<h2 id=\"The-best-way\"><a class=\"heading-link\" href=\"#The-best-way\">#</a>The best way</h2>\n<p>This is the best and most optimal method here. It is really fast, feels native, as if TypeScript itself knows about your CSS Modules, and doesn't clutter your workspace with <code>d.ts</code> files. It just works!!</p>\n<p>And the best part: Because it's just an npm package, and because the tsconfig is there, anyone else(team member/collaborator) will have the same experience as you out of the box, without any config. No need for them to download any extension, just the plain old <code>npm install</code> will do it for them.</p>\n<p>Magic!!!</p>\n<p>Here's how to set it up <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<h3 id=\"npm-install-typescript-plugin-css-modules\"><a class=\"heading-link\" href=\"#npm-install-typescript-plugin-css-modules\">#</a>npm install typescript-plugin-css-modules</h3>\n<p>Install this little npm package, preferably as a <code>devDependency</code> (-D).</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">npm i --save-dev typescript-plugin-css-modules</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95\"># Or if you're a yarn person</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">yarn add --save-dev typescript-plugin-css-modules</span></span>\n<span class=\"line\"></span></code></pre>\n<blockquote>\n<p>And yeah, in case you were wondering, TypeScript does have its own plugin architecture. Heck, I myself found it very recently, <a href=\"https://puruvj.dev/blog/move-to-css-modules-from-styled-components\" target=\"_blank\" rel=\"noopener\">when I moved a project of mine to CSS Modules from Styled Components <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜…\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f605.svg\"></a>.</p>\n</blockquote>\n<h3 id=\"Add-to-tsconfig.json\"><a class=\"heading-link\" href=\"#Add-to-tsconfig.json\">#</a>Add to tsconfig.json</h3>\n<p>Open up your <code>tsconfig.json</code>, and add to the <code>compilerOptions</code> property this one liner:</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">plugins</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #A6ACCD\">: </span><span style=\"color: #89DDFF\">[{</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C792EA\">name</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">typescript-plugin-css-modules</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">}]</span></span>\n<span class=\"line\"></span></code></pre>\n<h3 id=\"Set-VSCode-TypeScript-version\"><a class=\"heading-link\" href=\"#Set-VSCode-TypeScript-version\">#</a>Set VSCode TypeScript version</h3>\n<p>This one is superrrrrr important. The TypeScript version your VSCode uses should be the local version(The one installed in your project locally), otherwise this whole song and dance of installing plugins and setting config will be worthless.</p>\n<p>Open a <code>.ts</code> or <code>.tsx</code> file in VSCode, On bottom right you'll see this little option <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"TS version in bottom right corner of VSCode\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;--padding-top: 14.499999999999998%;\">\n    <picture>\n      <source type=\"image/png\" media=\"(min-width: 501px)\" data-srcset=\"../media/css-modules--typescript-version-photo-1/large.png\">\n      <source type=\"image/png\" media=\"(max-width: 500px)\" data-srcset=\"../media/css-modules--typescript-version-photo-1/small.png\">\n      <img alt=\"Placeholder\" data-src=\"../media/css-modules--typescript-version-photo-1/large.png\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<p>This is your TypeScript version. Click on it, and a list popup will open on the very top <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"Choose TypeScript version\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;--padding-top: 27.916666666666668%;\">\n    <picture>\n      <source type=\"image/png\" media=\"(min-width: 501px)\" data-srcset=\"../media/css-modules--typescript-version-photo-2/large.png\">\n      <source type=\"image/png\" media=\"(max-width: 500px)\" data-srcset=\"../media/css-modules--typescript-version-photo-2/small.png\">\n      <img alt=\"Placeholder\" data-src=\"../media/css-modules--typescript-version-photo-2/large.png\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<p>Click on <strong>Select TypeScript Version</strong>. That will show these options <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"Select Workspace version\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;--padding-top: 21.666666666666668%;\">\n    <picture>\n      <source type=\"image/png\" media=\"(min-width: 501px)\" data-srcset=\"../media/css-modules--typescript-version-photo-3/large.png\">\n      <source type=\"image/png\" media=\"(max-width: 500px)\" data-srcset=\"../media/css-modules--typescript-version-photo-3/small.png\">\n      <img alt=\"Placeholder\" data-src=\"../media/css-modules--typescript-version-photo-3/large.png\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<p>As you can see, I have <strong>Use VS Code's Version</strong> selected(Look at the white dot before it). Click on <strong>Use Workspace Version</strong>, and you are all set.</p>\n<p>And here's your setup. In less than 5 minutes. Super simple, right?</p>\n<p>Enjoy the amazing DX <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜€\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f600.svg\">.</p>\n<blockquote>\n<p>Oh, and in case you were wondering, it works perfectly with Sass too <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜‰\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f609.svg\"></p>\n</blockquote>\n<h2 id=\"Honorable-Mentions\"><a class=\"heading-link\" href=\"#Honorable-Mentions\">#</a>Honorable Mentions</h2>\n<p>Here are some more methods that are... OK, I guess <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜…\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f605.svg\">. I used these, and they weren't as good as the technique above.</p>\n<h3 id=\"VSCode-extension\"><a class=\"heading-link\" href=\"#VSCode-extension\">#</a>VSCode extension</h3>\n<p>So, there are a few VSCode extensions out there that provide similar level of intellisense. Notice I used the word similar, not same, because</p>\n<ol>\n<li>\n<p><strong>They were a little slower</strong> - They slowed down VSCode a little bit. On my current laptop, which is pretty fast, it is negligible, but on my older laptop, it was noticeably slow.</p>\n</li>\n<li>\n<p><strong>Choppy Intellisense</strong> - The intellisense wasn't always accurate, and sometimes had some noise in it like units(9px, 3rem) when you typed styles., which was definitely a bit weird.</p>\n</li>\n<li>\n<p><strong>I dislike extensions</strong> - I am an extreme minimalist. My hunger to reduce things and have only the things necessary is super big.</p>\n</li>\n</ol>\n<p>But still, this extension is good enough if you can't get <mark>The Best Method</mark> above working.</p>\n<p>Oh, and the extension I recommend: <a href=\"https://marketplace.visualstudio.com/items?itemName=clinyong.vscode-css-modules\" target=\"_blank\" rel=\"noopener\">CSS Modules by clinyong</a></p>\n<h3 id=\"typings-for-css-modules-loader\"><a class=\"heading-link\" href=\"#typings-for-css-modules-loader\">#</a><code>typings-for-css-modules-loader</code></h3>\n<p>This is a Webpack-only loader. This will do the trick too.</p>\n<p>As I have no experience in Webpack, I can't explain the usage. I recommend you to check out the documentation @ <a href=\"https://www.npmjs.com/package/typings-for-css-modules-loader\" target=\"_blank\" rel=\"noopener\">NPM</a></p>\n<h4 id=\"The-CLI\"><a class=\"heading-link\" href=\"#The-CLI\">#</a>The CLI</h4>\n<p>There's a CLI out there that will generate <code>d.ts</code> files for your CSS modules. Check it out here: <a href=\"https://github.com/Quramy/typed-css-modules\" target=\"_blank\" rel=\"noopener\">typed-css-modules</a>.</p>\n<p>It has a watch mode, so you won't have to run it again everytime you edit your CSS files. That's handy.</p>\n<p>Though OFC, it only works on plain CSS files, not <code>SCSS</code> or <code>SASS</code> or <code>STYL</code>. Plus there's that hiccup of remembering to run this command in a parallel terminal, or using a script to turn it on automatically along with your Web server.</p>\n<h4 id=\"For-Sass\"><a class=\"heading-link\" href=\"#For-Sass\">#</a>For Sass</h4>\n<p>It's again a CLI and inspired from <code>typed-css-modules</code> CLI: <a href=\"https://github.com/skovy/typed-scss-modules\" target=\"_blank\" rel=\"noopener\">typed-scss-modules</a>. Its a really good tool.</p>\n<blockquote>\n<p>This approach is good, but the biggest drawback I see is the d.ts files generated. it sort off clutters your workspace and Git commits.</p>\n</blockquote>\n<h3 id=\"Manually\"><a class=\"heading-link\" href=\"#Manually\">#</a>Manually</h3>\n<p>The last method is manually adding in the typings yourselves.</p>\n<p>God forbid if you have to resort to this! <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜±\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f631.svg\"><img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜±\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f631.svg\"></p>\n<p>It involves making a <code>d.ts</code> file next to your CSS modules file, and defining modules and putting in the class names yourselves. Its a really bad method. If you add a class to you CSS module, you have to add it to the <code>d.ts</code> too. If you change something, and the project is too big, you're basically screwed, cuz you won't remember to change it in the d.ts most probably.</p>\n<p>I personally would rather have no type information than set up my own <code>d.ts</code> for every single CSS file. Too much maintenance <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜«\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f62b.svg\">.</p>\n<h1 id=\"Bonus-material\"><a class=\"heading-link\" href=\"#Bonus-material\">#</a>Bonus material</h1>\n<p>As CSS Modules rely on using the <code>css.*</code> pattern, composing multiple classes becomes painful, as you have to do this:</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #89DDFF\">`${</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classA</span><span style=\"color: #89DDFF\">}</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">${</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classB</span><span style=\"color: #89DDFF\">}</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">${</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classC</span><span style=\"color: #89DDFF\">}`</span><span style=\"color: #89DDFF\">} /&gt;</span></span>\n<span class=\"line\"></span></code></pre>\n<p>It looks a little ugly, but it's still manageable. But once you try to have conditional classes here, things go off the rails</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #89DDFF\">`${</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classA</span><span style=\"color: #89DDFF\">}</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">${</span><span style=\"color: #A6ACCD\">condition1 </span><span style=\"color: #89DDFF\">?</span><span style=\"color: #A6ACCD\"> css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classB </span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">''}</span><span style=\"color: #C3E88D\"> </span><span style=\"color: #89DDFF\">${</span><span style=\"color: #A6ACCD\">condition2 </span><span style=\"color: #89DDFF\">?</span><span style=\"color: #A6ACCD\"> css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classC </span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">''}`</span><span style=\"color: #89DDFF\">} /&gt;</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Ewww!! That's ugly as hell. <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜–\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f616.svg\"><img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜–\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f616.svg\"></p>\n<p>The ternary hell here is pretty bad. We have to render an empty string manually if the condition is false. If we did just <code>condition1 &amp;&amp; css.classB</code>, it would've been pretty clean and legible, but if the condition is false, it would output a <code>null</code> in the <code>className</code>. Pretty sure no one will style <code>null</code> class, but as a rule, let's not have the <code>null</code> in our classes at all.</p>\n<p>So, to make this cleaner, we can use the <code>clsx</code> library. It's a small 228B library that makes dealing with class composition much easier!</p>\n<p>Using it, the code above becomes super clean <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">import</span><span style=\"color: #A6ACCD\"> clsx </span><span style=\"color: #89DDFF\">from</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">clsx</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #676E95\">// Later in the component</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #82AAFF\">clsx</span><span style=\"color: #A6ACCD\">(css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classA</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #A6ACCD\"> condition1 </span><span style=\"color: #89DDFF\">&amp;&amp;</span><span style=\"color: #A6ACCD\"> css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classB</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #A6ACCD\"> condition2 </span><span style=\"color: #89DDFF\">&amp;&amp;</span><span style=\"color: #A6ACCD\"> css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classC)</span><span style=\"color: #89DDFF\">} /&gt;;</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Now its much more cleaner, literally no noise now. Really good. And that's not all the ways of using this library. You can pass an object to it <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.1.0/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  </span><span style=\"color: #C792EA\">className</span><span style=\"color: #89DDFF\">={</span><span style=\"color: #82AAFF\">clsx</span><span style=\"color: #A6ACCD\">(</span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #F07178\">[</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classA</span><span style=\"color: #F07178\">]</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #FF9CAC\">true</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #F07178\">[</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classB</span><span style=\"color: #F07178\">]</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> condition1</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #F07178\">[</span><span style=\"color: #A6ACCD\">css</span><span style=\"color: #89DDFF\">.</span><span style=\"color: #A6ACCD\">classC</span><span style=\"color: #F07178\">]</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> condition2</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span><span style=\"color: #A6ACCD\">)</span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">/&gt;</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This is another way!</p>\n<p><code>clsx</code> is a very, very versatile library, and any time I jump onto a new React/Preact package, I always install it in the very beginning, even if I don't use it very much. It being <mark>228 Bytes</mark> doesn't really make this a regret, as far as bundle size is concerned.</p>\n<h1 id=\"Conclusion\"><a class=\"heading-link\" href=\"#Conclusion\">#</a>Conclusion</h1>\n<p>This article is just a little glimpse what you can do with CSS Modules. There's so much more out there in the wild by the community. Explore it, you'll fall in love with it!!</p>\n<p>Thank you for reading this article. Hope it helped!!</p>\n","id":"styling-react--the-power-of-css-modules","reading_time":15.4675,"toc":[{"indent":0,"id":"Advantages","title":"#Advantages","length":11},{"indent":0,"id":"Prerequisites","title":"#Prerequisites","length":14},{"indent":0,"id":"The-syntax","title":"#The syntax","length":11},{"indent":1,"id":"Under-the-hood","title":"#Under the hood","length":15},{"indent":1,"id":"Using-with-Pre-processors-and-PostCSS","title":"#Using with Pre-processors and PostCSS","length":38},{"indent":1,"id":"Gotchas","title":"#Gotchas","length":8},{"indent":2,"id":"No-styling-the-IDs!!","title":"#No styling the IDs!!","length":21},{"indent":0,"id":"The-delicious-parts","title":"#The delicious parts ðŸ˜‹ [https://twemoji.maxcdn.com/v/13.1.0/svg/1f60b.svg]","length":75},{"indent":1,"id":":global","title":"#:global","length":8},{"indent":1,"id":"Composing-multiple-styles-together","title":"#Composing multiple styles together","length":35},{"indent":1,"id":"Variables","title":"#Variables","length":10},{"indent":0,"id":"Playing-nice-with-TypeScript","title":"#Playing nice with TypeScript","length":29},{"indent":1,"id":"The-best-way","title":"#The best way","length":13},{"indent":2,"id":"npm-install-typescript-plugin-css-modules","title":"#npm install typescript-plugin-css-modules","length":42},{"indent":2,"id":"Add-to-tsconfig.json","title":"#Add to tsconfig.json","length":21},{"indent":2,"id":"Set-VSCode-TypeScript-version","title":"#Set VSCode TypeScript version","length":30},{"indent":1,"id":"Honorable-Mentions","title":"#Honorable Mentions","length":19},{"indent":2,"id":"VSCode-extension","title":"#VSCode extension","length":17},{"indent":2,"id":"typings-for-css-modules-loader","title":"#typings-for-css-modules-loader","length":31},{"indent":2,"id":"Manually","title":"#Manually","length":9},{"indent":0,"id":"Bonus-material","title":"#Bonus material","length":15},{"indent":0,"id":"Conclusion","title":"#Conclusion","length":11}],"seriesIndex":0}