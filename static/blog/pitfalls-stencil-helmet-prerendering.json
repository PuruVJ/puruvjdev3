{"title":"Pitfalls when using Stencil Helmet during Prerendering","description":"Stencil Helmet can break the whole app really bad on some occasions, some so random that you might never find out why","date":"2 Jun, 2020 2:24","cover_image":"media/blog-social-intro.png","body":"<p>I assume that if you're here, you already know a little about <a href=\"https://stenciljs.com\" target=\"_blank\" rel=\"noopener\">StencilJS</a>, if not, check out this super awesome framework.</p>\n<h1 id=\"Back-story\"><a class=\"heading-link\" href=\"blog/pitfalls-stencil-helmet-prerendering#Back-story\">#</a>Back story</h1>\n<p>When I was building this blog, I was trying to use <a href=\"https://www.npmjs.com/package/@stencil/helmet\" target=\"_blank\" rel=\"noopener\">Stencil Helmet</a> to dynamically add some tags to the <code>&lt;head&gt;</code> tag, and these dynamic tags would show up in prerendered pages. You can even confirm their existence right now, by pressing <code>Ctrl+U</code> key combo or by manually typing <code>view-source:</code> behind the actual URL.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">view-source:https://puruvjdev.now.sh</span></span>\n<span class=\"line\"></span></code></pre>\n<p>So, what happened was, I made some changes in my code, and my application stopped prerendering. Just like that. <strong>It wasn't prerendering</strong>.</p>\n<p>This wasn't acceptable. Prerendering is absolutely necessary to make a fast and SEO friendly site.</p>\n<p>So I dug deep into my git commits, and BAM! There was the culprit, hiding right in the <strong><code>index.html</code></strong> file on the 3rd line. The glorious.....</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">title</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #A6ACCD\">Something</span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">title</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Or rather, the absence of it. You see, I had deleted the <code>title</code> tag, so I could handle dynamic title management in my components.</p>\n<h1 id=\"The-solution\"><a class=\"heading-link\" href=\"blog/pitfalls-stencil-helmet-prerendering#The-solution\">#</a>The solution</h1>\n<p>Always keep the <code>title</code> tag in your <code>index.html</code>.</p>\n<p>I just added in the <code>title</code> tag and everything started working.</p>\n<p>Hope you got something out of this post.</p>\n<p>Signing off!</p>\n","id":"pitfalls-stencil-helmet-prerendering","reading_time":0.5925,"toc":[{"indent":0,"id":"","title":"Back story","length":10},{"indent":0,"id":"","title":"The solution","length":12}]}