{"title":"Setting up auto-formatting in VSCode in 5 minutes","description":"Set up auto formatting in VSCode in just 5 minutes.","date":"14 Dec, 2020 5:11 PM","cover_image":"media/prettier-setup-ugly-vs-clean.jpg","published":true,"body":"<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;padding-top: 56.25%;background-color: rgb(65, 57, 48)\">\n    <picture>\n      <source type=\"image/webp\" media=\"(min-width: 501px)\" data-srcset=\"media/prettier-setup-ugly-vs-clean/large.webp\">\n      <source type=\"image/webp\" media=\"(max-width: 500px)\" data-srcset=\"media/prettier-setup-ugly-vs-clean/small.webp\">\n      <source type=\"image/jpg\" media=\"(min-width: 501px)\" data-srcset=\"media/prettier-setup-ugly-vs-clean/large.jpg\">\n      <source type=\"image/jpg\" media=\"(max-width: 500px)\" data-srcset=\"media/prettier-setup-ugly-vs-clean/small.jpg\">\n      <img alt=\"Placeholder\" data-src=\"media/prettier-setup-ugly-vs-clean/large.jpg\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<p>look at the image above <img class=\"emoji\" draggable=\"false\" alt=\"â˜\" src=\"https://twemoji.maxcdn.com/v/13.0.2/svg/261d.svg\">. What do you see?</p>\n<p>On the left, there is a very clean table chair, and very orderly. It's the kind of place where people would wanna sit and have a chat together. It's place where this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.0.2/svg/1f447.svg\"> happens</p>\n<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <div class=\"gif-vid-container\">\n    <video autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\">\n      <source src=\"/media/tony-cap-handshake-endgame/vidgif.mp4\" type=\"video/mp4\">\n      Your browser doesn't support HTML5 video playback. <a href=\"/media/tony-cap-handshake-endgame.gif\" target=\"_blank\" rel=\"noopener\">See the gif here</a>\n    </video>\n  </div>\n  </div><p></p>\n<p>On the right, it's a mess. A total mess. You simply can't expect to collaborate with anyone in here. You'd probably scare them off! No good conversation, no collaboration, nothing, NADA!!</p>\n<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <div class=\"gif-vid-container\">\n    <video autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\">\n      <source src=\"/media/tony-punch-cap-perfect-teeth/vidgif.mp4\" type=\"video/mp4\">\n      Your browser doesn't support HTML5 video playback. <a href=\"/media/tony-punch-cap-perfect-teeth.gif\" target=\"_blank\" rel=\"noopener\">See the gif here</a>\n    </video>\n  </div>\n  </div><p></p>\n<p>This is the same situation with well-formatted code, and unformatted code.</p>\n<p>A little letter to those who have written unformatted code/still write them:</p>\n<blockquote>\n<p>The code may look ugly, but it's still <strong>your</strong> code. You wrote it with the sweat of your brows and strength of your fingers. It's your child, as Scott Tolinsky would say. Having written unformatted code doesn't make you a bad developer.</p>\n</blockquote>\n<p>If you're the only one involved in the project, sure go ahead and write unformatted code. Nobody minds(And ignore those who do).</p>\n<p>But if you are in a team or in some situation where multiple developers are collaborating on the code, you need to have properly formatted code, whether by yourself by hand, or by having it auto-formatted by the tooling.</p>\n<p>And it's better if it's auto-formatted.</p>\n<p>And it's good to have formatted code, even when you're on your own. Higher readability, Higher productivity.</p>\n<p>And this is where Prettier comes in.</p>\n<h1 id=\"What-is-Prettier\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#What-is-Prettier\">#</a>What is Prettier?</h1>\n<p>Prettier is basically a tool that automatically formats the code you've written, saving you the headache of fixing spaces and brackets positioning yourselves.</p>\n<h2 id=\"So-it's-a-VSCode-extension\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#So-it's-a-VSCode-extension\">#</a>So it's a VSCode extension?</h2>\n<p>Off course, as the title says <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜‹\" src=\"https://twemoji.maxcdn.com/v/13.0.2/svg/1f60b.svg\">.</p>\n<p>It's a very good extension that saves you a lot of trouble. All you have to know is one shortcut key combo to automatically format the code, and boom, you're done.</p>\n<p>But it's more than an extension. it's actually an <mark>NPM package</mark> as well as a <mark>CLI</mark> originally, on top of which the VSCode extension has been written. It can be run as easily as</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">prettier </span><span style=\"color: #89DDFF\">--</span><span style=\"color: #A6ACCD\">write filename.js</span></span>\n<span class=\"line\"></span></code></pre>\n<p>or, to format all kinds of files all at once</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">prettier </span><span style=\"color: #89DDFF\">--</span><span style=\"color: #A6ACCD\">write </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">src/**/*.{html,css,js,json,jsx,tsx}</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"Why-should-I-bother-with-the-NPM-package\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Why-should-I-bother-with-the-NPM-package\">#</a>Why should I bother with the NPM package?</h2>\n<p>VSCode extension is much easier and better in terms of Developer Experience, but it can only format one file at a time. If you're adding prettier in a pre-existing large-enough project, you simply can't bother with opening every single file yourselves, and hitting the magic keys. You need to <mark>bulk-format</mark> them. That's where Prettier Node CLI comes in.</p>\n<p>There's also the fact that VSCode is a memory hog, and adding extensions to it makes everything slower. You don't need to bother with this point if you have a 8 GB RAM, i5 CPU with blazing-fast SSD laptop, it can take any extension (These specs are just my laptop's specs, these are not hard limits in any way).</p>\n<p>But if you have a slow system and don't wanna add any extensions, No Problem <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘\" src=\"https://twemoji.maxcdn.com/v/13.0.2/svg/1f44d.svg\">. You'll just need to learn to use the CLI. And it's simple enough. I'll cover that below.</p>\n<p>Now let's cut to the chase.</p>\n<h1 id=\"Setting-up-the-VSCode-extension\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Setting-up-the-VSCode-extension\">#</a>Setting up the VSCode extension</h1>\n<p>All right, open up your VSCode</p>\n<ol>\n<li>Hit <code>Ctrl+P</code> (Or <code>Cmd+P</code> if on MacOS)</li>\n<li>Type <code>ext install esbenp.prettier-vscode</code> in the input box that opens up, and hit enter.</li>\n<li>This will install the extension. If it opens up a dialog box about syncing this extension, choose your sync preference for this extension. If you're not sure what that means, I recommend just choosing <code>Yes</code>. That should be good enough</li>\n</ol>\n<p>There, now you have Prettier installed as an extension in VSCode</p>\n<h2 id=\"How-to-use-it\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#How-to-use-it\">#</a>How to use it?</h2>\n<p>Easy. Open up any file you wish to format. Any JavaScript file for example.</p>\n<p>Right click anywhere in the code, and you'll see the <mark>Format Document</mark> option in the context menu. Click on it, and your document will be auto-formatted, like this <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‡\" src=\"https://twemoji.maxcdn.com/v/13.0.2/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <div class=\"gif-vid-container\">\n    <video autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\">\n      <source src=\"/media/prettier-setup-format-option-vscode/vidgif.mp4\" type=\"video/mp4\">\n      Your browser doesn't support HTML5 video playback. <a href=\"/media/prettier-setup-format-option-vscode.gif\" target=\"_blank\" rel=\"noopener\">See the gif here</a>\n    </video>\n  </div>\n  </div><p></p>\n<p>Magic, right?</p>\n<h2 id=\"Shortcut-keys\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Shortcut-keys\">#</a>Shortcut keys</h2>\n<p>This is a tricky one. You see, the shortcut keys are different for different Operating Systems and sometimes even for different environments.</p>\n<p>You'll have to see for yourself. Look at the GIF above. You can the see the shortcut key combo right next to the <mark>Format Document</mark> option. It's <mark>Alt+Shift+F</mark> for me.</p>\n<h2 id=\"Optional\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Optional\">#</a>Optional</h2>\n<p>You can modify your settings to format the document whenever you hit <code>Ctrl+S</code>.</p>\n<p>Just open up your VSCode settings, search for <code>\"Format on Save\"</code>, and check the option as true.</p>\n<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <div class=\"gif-vid-container\">\n    <video autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\">\n      <source src=\"/media/format-on-save/vidgif.mp4\" type=\"video/mp4\">\n      Your browser doesn't support HTML5 video playback. <a href=\"/media/format-on-save.gif\" target=\"_blank\" rel=\"noopener\">See the gif here</a>\n    </video>\n  </div>\n  </div><p></p>\n<blockquote>\n<p>Note: If you have autosave turned on, beware, for whenever you type, your code may jump around like crazy, as prettier tries to format your document at the instant you're typing.</p>\n</blockquote>\n<h1 id=\"Using-it-with-the-CLI\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Using-it-with-the-CLI\">#</a>Using it with the CLI</h1>\n<p>This section is dedicated to how to format using the Prettier CLI</p>\n<h2 id=\"Installing-the-CLI\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Installing-the-CLI\">#</a>Installing the CLI</h2>\n<p>There 2 ways to install the CLI <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ‘‰\" src=\"https://twemoji.maxcdn.com/v/13.0.2/svg/1f449.svg\"></p>\n<h3 id=\"Global\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Global\">#</a>Global</h3>\n<p>It can be installed globally:</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">npm install </span><span style=\"color: #89DDFF\">-</span><span style=\"color: #A6ACCD\">g prettier</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This approach is fine. However, if you're a new linux user and getting permission errors, don't worry for now. Just read the next section to install prettier locally.</p>\n<h3 id=\"Local\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Local\">#</a>Local</h3>\n<p>Local here means you install prettier in the folder you're working on right now, and run it locally. This is actually the recommended way, and better than the global approach, in my opinion Â¯\\_(ãƒ„)_/Â¯</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">npm install </span><span style=\"color: #89DDFF\">--</span><span style=\"color: #82AAFF\">save-dev</span><span style=\"color: #A6ACCD\"> prettier</span></span>\n<span class=\"line\"></span></code></pre>\n<h2 id=\"Running-it\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Running-it\">#</a>Running it</h2>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">npx prettier </span><span style=\"color: #89DDFF\">--</span><span style=\"color: #A6ACCD\">write file.js</span></span>\n<span class=\"line\"></span></code></pre>\n<p>This is for the locally installed prettier. For global, remove <code>npx</code>:</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">prettier </span><span style=\"color: #89DDFF\">--</span><span style=\"color: #A6ACCD\">write file.js</span></span>\n<span class=\"line\"></span></code></pre>\n<p>You can tell it to run prettify all JS files directly in the directory</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">npx prettier </span><span style=\"color: #89DDFF\">--</span><span style=\"color: #A6ACCD\">write </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">./src/*.js</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"></span></code></pre>\n<p>Or recursively prettify all the JS files, no matter how deeply embedded in folders</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">npx prettier </span><span style=\"color: #89DDFF\">--</span><span style=\"color: #A6ACCD\">write </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">./src/**/*.js</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"></span></code></pre>\n<p>You can target multiple file formats too</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">npx prettier </span><span style=\"color: #89DDFF\">--</span><span style=\"color: #A6ACCD\">write </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">./src/**/*.{js,ts,html,css,json}</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"></span></code></pre>\n<p>The possibilities are endless.</p>\n<h1 id=\".prettierrc\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#.prettierrc\">#</a>.prettierrc</h1>\n<p>Lastly, you can add your own <code>.prettierrc</code> file to the your workspace. It is basically a little config file telling prettier how it should handle the formatting.</p>\n<p>Here's mine:</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C792EA\">singleQuote</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">true,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C792EA\">trailingComma</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">all</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C792EA\">printWidth</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">100</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"></span></code></pre>\n<p>As you see, this file is tiny. And that's the best thing about prettier. Prettier comes with very sensible defaults, and will get you very good formatting even without the config file</p>\n<h1 id=\"Conclusion\"><a class=\"heading-link\" href=\"blog/setup-prettier-vscode#Conclusion\">#</a>Conclusion</h1>\n<p>Hoped this article helped <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜\" src=\"https://twemoji.maxcdn.com/v/13.0.2/svg/1f601.svg\"></p>\n","id":"setup-prettier-vscode","reading_time":3.67,"toc":[{"indent":0,"id":"","title":"What is Prettier?","length":17},{"indent":1,"id":"","title":"So it's a VSCode extension?","length":27},{"indent":1,"id":"","title":"Why should I bother with the NPM package?","length":41},{"indent":0,"id":"","title":"Setting up the VSCode extension","length":31},{"indent":1,"id":"","title":"How to use it?","length":14},{"indent":1,"id":"","title":"Shortcut keys","length":13},{"indent":1,"id":"","title":"Optional","length":8},{"indent":0,"id":"","title":"Using it with the CLI","length":21},{"indent":1,"id":"","title":"Installing the CLI","length":18},{"indent":2,"id":"","title":"Global","length":6},{"indent":2,"id":"","title":"Local","length":5},{"indent":1,"id":"","title":"Running it","length":10},{"indent":0,"id":"","title":".prettierrc","length":11},{"indent":0,"id":"","title":"Conclusion","length":10}]}